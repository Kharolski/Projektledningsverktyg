<UserControl x:Class="Projektledningsverktyg.Views.RecipeBook.Windows.Components.RecipeIngredientsSection"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Projektledningsverktyg.Views.RecipeBook.Windows.Components"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">


    <StackPanel Margin="0,30,0,0">
        <TextBlock Text="Ingredienser" 
              FontSize="20" 
              FontWeight="SemiBold" 
              Margin="0,0,0,20"/>

        <!-- Ingredients Grid Header -->
        <Grid Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>        <!-- Amount -->
                <ColumnDefinition Width="1*"/>        <!-- Unit -->
                <ColumnDefinition Width="3*"/>        <!-- Ingredient -->
                <ColumnDefinition Width="Auto"/>      <!-- Remove button -->
            </Grid.ColumnDefinitions>

            <TextBlock Text="Mängd" FontWeight="Medium"/>
            <TextBlock Grid.Column="1" Margin="-30,0,0,0" Text="Enhet" FontWeight="Medium"/>
            <TextBlock Grid.Column="2" Margin="-60,0,0,0" Text="Ingrediens" FontWeight="Medium"/>
        </Grid>

        <!-- Sample Ingredient Row -->
        <Grid Margin="0,0,10,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBox Height="35" Margin="0,0,10,0" Padding="5,8,0,0"/>
            <ComboBox Grid.Column="1" Height="35" Padding="5,8,0,0" Margin="0,0,10,0">
                <ComboBoxItem Content="st"/>
                <ComboBoxItem Content="g"/>
                <ComboBoxItem Content="ml"/>
                <ComboBoxItem Content="msk"/>
                <ComboBoxItem Content="tsk"/>
                <ComboBoxItem Content="dl"/>
            </ComboBox>
            <TextBox Grid.Column="2" Height="35" Padding="5,8,0,0" Margin="0,0,10,0"/>
            
            <!-- Add Ingredient Button -->
            <Button Grid.Column="3" Content="+ Lägg till ingrediens"
                    Height="35"
                    Padding="15,0"
                    Background="#4CAF50"
                    Foreground="White"/>
        </Grid>

        <!-- Main Ingredients Container -->
        <Border Background="White" 
                BorderBrush="#E0E0E0" 
                BorderThickness="1" 
                CornerRadius="4"
                Margin="0,0,10,10">
            <Grid>
                <!-- Headers Row -->
                <Grid Background="#F8F8F8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="3*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Mängd" FontWeight="Medium" Padding="10,8"/>
                    <TextBlock Grid.Column="1" Text="Enhet" FontWeight="Medium" Padding="0,8" Margin="-30,0,0,0"/>
                    <TextBlock Grid.Column="2" Text="Ingrediens" FontWeight="Medium" Padding="10,8" Margin="-67,0,0,0"/>
                </Grid>

                <!-- Ingredients List -->
                <ItemsControl Margin="0,40,0,0">
                    <ItemsControl.Template>
                        <ControlTemplate>
                            <Grid>
                                <TextBlock Text="Inga ingredienser tillagda" 
                                            Foreground="#666666"
                                            HorizontalAlignment="Center"
                                            Margin="0,20">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Items.Count, 
                                                   RelativeSource={RelativeSource 
                                                   AncestorType=ItemsControl}}" 
                                                   Value="0">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <ItemsPresenter/>
                            </Grid>
                        </ControlTemplate>
                    </ItemsControl.Template>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="10,5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="3*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Text="{Binding Amount}" Padding="0,5"/>
                                <TextBlock Grid.Column="1" Text="{Binding Unit}" Padding="0,5"/>
                                <TextBlock Grid.Column="2" Text="{Binding Name}" Padding="0,5"/>
                                <Button Grid.Column="3" 
                                        Content="✕"
                                        Width="30"
                                        Height="30"
                                        Margin="10,0,0,0"/>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Grid>
        </Border>


    </StackPanel>
</UserControl>
